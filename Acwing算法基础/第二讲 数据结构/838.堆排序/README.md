838.堆排序
==
https://www.acwing.com/problem/content/840/

本题考查堆排序。堆是一种完全二叉树。分为小顶堆和大顶堆。小顶堆的定义是，对于任意一个结点，其左右子树的所有结点都大于该结点，递归定义。而大顶堆相反。需要注意的是，是按照左右子树分别来看，而不是按照层序来看。也就是说，对于一个结点的左右子树，其左子树中的较高结点可能大于右子树中的较低结点。因为它们不属于一个子树，所以也是满足条件的。

堆使用一个数组h[n]记录，从1到长度n。此外，可以使用一个cnt变量，初始化为n，逐渐减少，记录堆的当前元素数量。堆的最基础操作有up和down，分别用于将一个元素向上/向下调整到满足堆定义的位置。事实上，如果不知道需要向哪个方向调整，可以两个都用。只有其中一个会生效。

向上调整只需要和父节点比较，然后交换，交换后再递归调用直到不需要交换为止。而向下调整需要和左右孩子中的较小者交换（小顶堆），以防止交换后出现不满足定义的情况。

由up和down以及一些数组操作，可以组合出堆的基础操作：

第一：插入一个数。插入到最后，然后up。如果有影响堆大小的操作，需要调整cnt。

第二：求集合当众的最小值。直接返回h[1]。

第三：删除最小值。将最后一个值覆盖给第一个值，然后down。

第四：删除任意一个元素。将最后一个值覆盖给要删除的值，然后down。

第五：修改任意一个元素。先修改，然后down再up。只会执行其中一个。

在堆排序中，求最小值操作和删除最小值操作轮换使用。

需要先建堆再进行处理。建堆时可以直接对n/2到1的元素进行down操作，即可保证堆满足定义。可以证明，这个操作的时间复杂度不超过线性。对于下标为x的结点，其左孩子是2x，右孩子是2x+1。同时注意，对于一个满二叉树来讲，最后一层的元素个数比上面所有元素还多一个。